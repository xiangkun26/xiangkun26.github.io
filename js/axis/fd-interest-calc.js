function semiHightChart(){Highcharts.chart("fdGraph",{chart:{type:"column"},title:{text:""},subtitle:{text:""},xAxis:{type:"category",labels:{rotation:0,style:{fontSize:"10px",fontFamily:"Lato"}}},yAxis:{min:0,title:{text:""}},legend:{enabled:!1},tooltip:{pointFormat:"Population in 2019: <b>{point.y:.1f} millions</b>"},series:[{name:"Population",series:"all",border:{cornerRadius:"10px"},data:[0,2,3,3,1,2,3,1,3,3]}]})}function diffChangeVal(){$("#tenureDays").val(0);var e=new Date;fullYear=e.getFullYear();var t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],r=e.getDate()+" "+t[e.getMonth()]+" "+fullYear;$(".currentDate").text(r),e.getDate(),t[e.getMonth()],e.getMonth(),e.getFullYear();var n=new Date;n.setMonth(n.getMonth()+parseInt($("#tenureMon").val()));var i=n.getDate(),o=t[n.getMonth()];n.getMonth();var l,s=n.getFullYear();$(".maturityDate").text(i+" "+o+" "+s),getRates(DaysCount())}$(document).scroll(function(){window.innerWidth<860&&($(this).scrollTop()>900?$(".mob-apply").fadeIn():$(".mob-apply").fadeOut())});var RemainingDays=365;function updateRangeSlider(){$(".inpt").each(function(){$(this).on("change",function(){valuetoassign=(valuetoassignComa=$(this).val()).replace(/[,]/g,""),slidertochange=$(this).parents(".inpt-statement").siblings(".irs-hidden-input").prop("id"),(slidertoupdate=$("#"+slidertochange).data("ionRangeSlider")).update({from:parseInt(valuetoassign)})})})}function calculatorRangeSlider(e,t,r,n,i,o,l,s,u){var p=e;p.ionRangeSlider({type:"single",min:t,max:r,from:n,step:i,grid:o,prettify_enabled:!0,prettify:function(e){return!0==l?e:!0==s?e+="%":rangenumDifferentiation(e)},onStart:function(e){"intrRateSlider"==u?p.parent(".inpt-slider").find(".inpt").val(numberFormatter(e.from)+"%"):p.parent(".inpt-slider").find(".inpt").val(numberFormatter(e.from))},onFinish:function(e){p.parent(".inpt-slider").find(".inpt").trigger("blur"),calEMIval()}}),p.on("change",function(){var e=$(this),t=e.prop("value");"intrRateSlider"==e.prop("id")?e.parent(".inpt-slider").find(".inpt").val(numberFormatter(t)+"%"):(e.parent(".inpt-slider").find(".inpt").val(numberFormatter(t)),"tensureSlider"==e.prop("id")&&Amortization()),$(this).parents(".inpt-slider").find(".clssErrorMsg").css("visibility","hidden"),$(this).parents(".inpt-slider").find(".inputBox").removeClass("errorBorder")})}function numberFormatter(e){e=e.toString();var t="";e.indexOf(".")>0&&(t=e.substring(e.indexOf("."),e.length));var r=(e=(e=Math.floor(e)).toString()).substring(e.length-3),n=e.substring(0,e.length-3);return""!=n&&(r=","+r),n.replace(/\B(?=(\d{2})+(?!\d))/g,",")+r+t}function rangenumDifferentiation(e){var t=["K","L","Cr"];return e>=1e7?(e/=1e7).toFixed(0)+""+t[2]:e>=1e5?(e/=1e5).toFixed(0)+""+t[1]:(e<1e5?(e/=1e3,e=e.toFixed(0)+""+t[0]):e=0,e)}function calValidation(){$(".numbersOnly").keypress(function(e){var t=$(this).parent().find(".error_message");if(8!=e.which&&0!=e.which&&(e.which<48||e.which>57))return t.html("Number only."),t.css("display","block"),!1;t.html(""),t.css("display","none")}),$(".inputBox input").keyup(function(e){13==e.which&&$(this).blur();var t=$(this).val().replace(/[,]/g,"");t>=$(this).data("minval")&&t<=$(this).data("maxval")?($(this).parents(".inpt-statement").find(".clssErrorMsg").css("visibility","hidden"),$(this).parent().removeClass("errorBorder")):($(this).parents(".inpt-statement").find(".clssErrorMsg").css("visibility","visible"),$(this).parent().addClass("errorBorder"))}),$(".numbersDecimal").on("input",function(e){var t=$(this);t.val(t.val().replace(/[^0-9\.]/g,"")),(46!=e.which||-1!=t.val().indexOf("."))&&(e.which<48||e.which>57)&&e.preventDefault()})}$(document).ready(function(){function e(){var e=new Date,t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"];e.getDate(),t[e.getMonth()],e.getMonth(),e.getFullYear();var r=new Date,n=parseInt($("#tenureDays").val());r.setDate(r.getDate()+n);var i=r.getDate(),o=t[r.getMonth()];r.getMonth();var l,s=r.getFullYear();$(".maturityDate").text(i+" "+o+" "+s),getRates(DaysCount())}calValidation(),$('input[name="slider"]').length&&(calculatorRangeSlider($("#loanAmtSlider"),5e3,19999999,5e3,1e4,!0,!1,!1,"loanAmtSlider"),calculatorRangeSlider($("#tensureSlider"),1,5,1,1,!0,!0,!1,"tensureSlider"),calculatorRangeSlider($("#intrRateSlider"),15.5,24,13,.01,!0,!1,!0,"intrRateSlider")),updateRangeSlider(),$(".inpt").each(function(){$(this).on("focus",function(){$(this).val($(this).val().replace(/[,]/g,""))}),calEMIval()}),$(document).on("blur change",".txtBox",function(){validateNetWeight($(this))}),$(".inpt").each(function(){$(this).focusout(function(){$(this).val($(this).val().replace(/[,]/g,"")),$(this).val(numberFormatter($(this).val()))}),calEMIval()}),$("#tenureMon").val(6),diffChangeVal(),Cumulative(),$("#tnrDays").click(function(){$(".tenureSel.selArrow").addClass("hideY")}),$("#tnrDate").on("change",function(){$(".tenureSel.selArrow").removeClass("hideY")}),$("#tenureYear").change(function(){$("#tenureDays").val("0"),0==$("#tenureYear").val()&&$("#tenureMon").val(6);var e=!0;10==$("#tenureYear").val()&&($("#tenureMon").val("0"),$("#tenureDays").val("0"),$("#tenureMon").prop("disabled",!0),$("#tenureDays").prop("disabled",!0),e=!1),9==$("#tenureYear").val()&&12==$("#tenureMon").val()&&($("#tenureDays").val("0"),$("#tenureDays").prop("disabled",!0),e=!1),9==$("#tenureYear").val()&&12==$("#tenureMon").val()&&($("#tenureDays").val("0"),$("#tenureDays").prop("disabled",!0),e=!1),!0==e&&($("#tenureMon").prop("disabled",!1),$("#tenureDays").prop("disabled",!1)),RemainingDays=3654-DaysCount(),console.log("RemainingDays"),console.log(RemainingDays),$(document).ready(function(){$("#tenureDays").attr({max:RemainingDays})}),Dates(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&MaturityQP(),"Cumulative"==$("#FdepType").val()&&Cumulative()}),$("#tenureMon").change(function(){$("#tenureDays").val("0"),"0"==$("#tenureYear").val()&&6>$("#tenureMon").val()&&$("#tenureMon").val(6);var e=!0;9==$("#tenureYear").val()&&12==$("#tenureMon").val()&&($("#tenureDays").val("0"),$("#tenureDays").prop("disabled",!0),e=!1),!0==e&&($("#tenureMon").prop("disabled",!1),$("#tenureDays").prop("disabled",!1)),RemainingDays=3654-DaysCount(),console.log("RemainingDays"),console.log(RemainingDays),$(document).ready(function(){$("#tenureDays").attr({max:RemainingDays})}),Dates(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&MaturityQP(),"Cumulative"==$("#FdepType").val()&&Cumulative()}),$("#tenureDays").on("keyup keydown",function(e){console.log(RemainingDays),$("#tnrDays").is(":checked")&&$(this).val()>3654&&46!=e.keyCode&&8!=e.keyCode&&(e.preventDefault(),$(this).val(0)),$("#tnrDate").is(":checked")&&$(this).val()>RemainingDays&&46!=e.keyCode&&8!=e.keyCode&&(e.preventDefault(),$(this).val(RemainingDays))}),$("#tenureDays").change(function(){var e=$("#tenureDays").val();$("#tnrDate").is(":checked")?(Dates(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&MaturityQP(),"Cumulative"==$("#FdepType").val()&&Cumulative()):$("#tnrDays").is(":checked")&&e>=7&&($("#tenureMon").val(0),$("#tenureYear").val(0),OnlyDates(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&MaturityQP(),"Cumulative"==$("#FdepType").val()&&Cumulative())}),$("#loan_amount").change(function(){Dates(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&MaturityQP(),"Cumulative"==$("#FdepType").val()&&Cumulative()}),$("#loanAmtSlider").change(function(){Dates(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&MaturityQP(),"Cumulative"==$("#FdepType").val()&&Cumulative()}),$("#FdepType").change(function(){Dates(),$(".perMPCol,.perQuaterCol").hide(),"Quarterly Payout"==$("#FdepType").val()&&($("#tenureMon").val(6),$("#tenureDays").val(0),$("#tenureYear").prop("disabled",!1),10==$("#tenureYear").val()&&($("#tenureMon").val(0),$("#tenureDays").val(0),"#tenureMon".prop("disabled",!0)),$("#tenureMon").prop("disabled",!1),diffChangeVal(),MaturityQP()),"Monthly Payout"==$("#FdepType").val()&&($("#tenureMon").val(6),$("#tenureDays").val(0),$("#tenureYear").prop("disabled",!1),10==$("#tenureYear").val()&&($("#tenureMon").val(0),$("#tenureDays").val(0),"#tenureMon".prop("disabled",!0)),$("#tenureMon").prop("disabled",!1),diffChangeVal(),MaturityMP()),"Short Term FD"==$("#FdepType").val()&&(alert("Tenure upto 180 days"),$("#tenureDays").val(7),$("#tenureYear").val(0),$("#tenureYear").prop("disabled",!0),$("#tenureMon").val(0),$("#tenureMon").prop("disabled",!0),proceed=!1,$("#tenureDays").prop("disabled",!1),e(),MaturityQP()),"Cumulative"==$("#FdepType").val()&&($("#tenureMon").val(6),$("#tenureYear").prop("disabled",!1),10==$("#tenureYear").val()&&($("#tenureMon").val(0),$("#tenureDays").val(0),"#tenureMon".prop("disabled",!0)),$("#tenureMon").prop("disabled",!1),diffChangeVal(),Cumulative())}),$("#tenureDays").change(function(){"Short Term FD"==$("#FdepType").val()&&($("#tenureDays").prop("disabled",!1),$("#tenureDays").val()>180&&$("#tenureDays").val(180),7>$("#tenureDays").val()&&$("#tenureDays").val(7),e(),MaturityQP())}),$("#RadioButton").change(function(){Dates(),e(),"Quarterly Payout"==$("#FdepType").val()&&MaturityQP(),"Monthly Payout"==$("#FdepType").val()&&MaturityMP(),"Short Term FD"==$("#FdepType").val()&&(e(),MaturityQP()),"Cumulative"==$("#FdepType").val()&&Cumulative()}),$("#Tenure").change(function(){$("#tenureDays").val(0)})});var flag=!1;function validateNetWeight(e){return""==e.val()||0==e.val()?(e.parents(".inputBox").addClass("errorBr"),flag=!1):(e.parents(".inputBox").removeClass("errorBr"),flag=!0),flag}function calEMIval(){var e=$("#loan_amount").val().replace(/,/g,""),t=12*$("#tenure").val(),r=calculate_emi(e,t,"0");$("#lblEMIAmt").text(dispNum(r.emi)),$("#princAmt").text($("#loan_amount").val()),$("#totalPayAmt").text(dispNum(r.emi*t)),$("#intrAmt").text(dispNum(r.emi*t-e));var n=(r.emi*t-e)*100/e;semiHightChart(100-n,n)}function dispNum(e){var t=Math.round(e);t+="",x1=(x=t.split("."))[0],x2=x.length>1?"."+x[1]:"";for(var r=/(\d+)(\d{3})/,n=0,i=parseInt(String(x1).length/2-1);r.test(x1)&&(n>0?x1=x1.replace(r,"$1,$2"):(x1=x1.replace(r,"$1,$2"),r=/(\d+)(\d{2})/),n++,0!=--i););return x1+x2}function calculate_emi(e,t,r,n){var i=t/12/100,o={};o.emi=e*i/(1-Math.pow(1/(1+i),r)),o.processingFee=n*e/100,o.totalIntrest=o.emi*r-e,o.totalPayment=o.emi*r,o.quaterAmt=e/4,o.q1=0,o.q2=0,o.q3=0,o.q4=0;var l=o.totalPayment;o.row=[],o.anual=[],o.row[0]={},o.row[0].os=l,o.row[0].pb=e,o.row[0].ip=e*i,o.row[0].pp=o.emi-o.row[0].ip;for(var s=1;l>0;)l-=o.emi,o.row[s]={},o.row[s].os=o.row[s-1].os-o.emi,o.row[s].pb=o.row[s-1].pb-o.emi+o.row[s-1].ip,o.row[s].ip=o.row[s].pb*i,o.row[s].pp=o.emi-o.row[s].ip,0==o.q1&&o.row[s].pb<3*o.quaterAmt&&(o.q1=s),0==o.q2&&o.row[s].pb<2*o.quaterAmt&&(o.q2=s-o.q1),0==o.q3&&o.row[s].pb<o.quaterAmt&&(o.q3=s-o.q2-o.q1),0==o.q4&&o.row[s].pb<0&&(o.q4=s-o.q3-o.q2-o.q1),s+=1;var u=0,p=0;for(i=0;i<o.row.length-1;i++)if(u+=o.row[i].ip,p+=o.row[i].pp,(i+1)%12==0){var y=parseInt(i/12);o.anual[y]={},o.anual[y].ip=u,o.anual[y].pb=o.row[12*y].pb,o.anual[y].pp=p,u=0,p=0}return o}function Getdecimal(e){return a=e.keyCode||e.which,b=$("#interest_rate").val().replace("%",""),!(46===a&&b.indexOf(".")>=0)&&(!(8!=a&&0!=a&&(a<48||a>57))||46==a)&&void 0}function digits(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}function getRates(e){var t=`[
    {"SDay":"7","EDay":"14","Deposits":"3.00","Deposits1to5":"3.50"},
    {"SDay":"15","EDay":"29","Deposits":"3.00","Deposits1to5":"3.50"},
    {"SDay":"30","EDay":"45","Deposits":"3.50","Deposits1to5":"4.00"},
    {"SDay":"46","EDay":"60","Deposits":"4.25","Deposits1to5":"4.75"},
    {"SDay":"61","EDay":"91","Deposits":"4.50","Deposits1to5":"5.00"},
    {"SDay":"92","EDay":"115","Deposits":"4.75","Deposits1to5":"5.25"},
    {"SDay":"116","EDay":"121","Deposits":"4.75","Deposits1to5":"5.25"},
    {"SDay":"122","EDay":"152","Deposits":"4.75","Deposits1to5":"5.25"},
    {"SDay":"153","EDay":"179","Deposits":"4.75","Deposits1to5":"5.25"},
    {"SDay":"180","EDay":"211","Deposits":"5.75","Deposits1to5":"6.25"},
    {"SDay":"212","EDay":"242","Deposits":"5.75","Deposits1to5":"6.25"},
    {"SDay":"243","EDay":"273","Deposits":"5.75","Deposits1to5":"6.25"},
    {"SDay":"274","EDay":"303","Deposits":"6.00","Deposits1to5":"6.50"},
    {"SDay":"304","EDay":"333","Deposits":"6.00","Deposits1to5":"6.50"},
    {"SDay":"334","EDay":"358","Deposits":"6.00","Deposits1to5":"6.50"},
    {"SDay":"359","EDay":"364","Deposits":"6.00","Deposits1to5":"6.50"},
    {"SDay":"365","EDay":"370","Deposits":"6.70","Deposits1to5":"7.20"},
    {"SDay":"371","EDay":"375","Deposits":"6.70","Deposits1to5":"7.20"},
    {"SDay":"376","EDay":"390","Deposits":"6.70","Deposits1to5":"7.20"},
    {"SDay":"391","EDay":"396","Deposits":"6.70","Deposits1to5":"7.20"},
    {"SDay":"397","EDay":"425","Deposits":"6.70","Deposits1to5":"7.20"},
    {"SDay":"426","EDay":"455","Deposits":"6.70","Deposits1to5":"7.20"},
    {"SDay":"456","EDay":"486","Deposits":"7.25","Deposits1to5":"7.75"},
    {"SDay":"487","EDay":"517","Deposits":"7.25","Deposits1to5":"7.75"},
    {"SDay":"518","EDay":"546","Deposits":"7.25","Deposits1to5":"7.75"},
    {"SDay":"547","EDay":"729","Deposits":"7.25","Deposits1to5":"7.75"},
    {"SDay":"730","EDay":"914","Deposits":"7.10","Deposits1to5":"7.60"},
    {"SDay":"915","EDay":"1094","Deposits":"7.10","Deposits1to5":"7.60"},
    {"SDay":"1095","EDay":"1825","Deposits":"7.10","Deposits1to5":"7.60"},
    {"SDay":"1826","EDay":"3654","Deposits":"7.00","Deposits1to5":"7.75"}]`,r="",n="",i=$.parseJSON(t);$.each(i,function(t,i){(matDtl=parseInt(e)>=parseInt(i.SDay)&&parseInt(e)<=parseInt(i.EDay))&&(r=" SDay : "+i.SDay+" EDay : "+i.EDay+" Rate of Interest(Normal) : "+i.Deposits+"% Rate of Interest(Senior Citizen) : "+i.Deposits1to5+"%",$("#radio1").is(":checked")&&(n=i.Deposits+"%"),$("#radio2").is(":checked")&&(n=i.Deposits1to5+"%"))}),$(".idRate").html(n)}function MaturityQP(){var e=0,t=12*parseInt($("#tenureYear").val())+parseInt($("#tenureMon").val());""!=$("#tenureDays").val()&&(e=parseInt($("#tenureDays").val()));var r=$("#loan_amount").val().replace(/\,/g,""),n=parseFloat($(".idRate").text())/100,i=parseFloat($(".idRate").text())/100;console.log("Principal is "+r+" Yield is "+n+" Rate is "+i+" Month is "+t+" Days are "+e);var o=Math.round(r*(1+n*t/12)+r*e*i/365);if(console.log(o),"Short Term FD"==$("#FdepType").val())$(".MatureAmount").text(digits(o));else{$(".MatureAmount").text($(".loanAmt").val()),$(".perQuaterCol").show();var l=parseFloat(r*n*3/12);$(".perQuaterAmt").text(digits(l.toFixed(0)))}$(".InterestAmount").text(digits(o-r))}function MaturityMP(){var e=0,t=12*parseInt($("#tenureYear").val())+parseInt($("#tenureMon").val());""!=$("#tenureDays").val()&&(e=parseInt($("#tenureDays").val()));var r=$("#loan_amount").val().replace(/\,/g,""),n=parseFloat($(".idRate").text())/100,i=parseFloat($(".idRate").text())/100;console.log("Principal is "+r+" Yield is "+n+" Rate is "+i+" Month is "+t+" Days are "+e);var o=i/4/(Math.pow(1+i/12,2)+(1+i/12)+1)*12;console.log("Yield is "+o),console.log("Month is "+t),console.log("Days is "+e);var l=r*o/12*t+r*o*e/365+r;console.log(l),$(".MatureAmount").text($(".loanAmt").val()),$(".InterestAmount").text(digits(Math.round(l))),$(".perMPCol").show();var s=parseFloat(r*o/12);$(".perMPAmt").text(digits(s.toFixed(0)))}function Cumulative(){var e=0,t=12*parseInt($("#tenureYear").val())+parseInt($("#tenureMon").val());""!=$("#tenureDays").val()&&(e=parseInt($("#tenureDays").val()));var r=$("#loan_amount").val().replace(/\,/g,""),n=parseFloat($(".idRate").text())/100,i=parseFloat($(".idRate").text())/100;console.log("Principal is "+r+" Yield is "+n+" Rate is "+i+" Month is "+t+" Days are "+e),console.log("Yield is "+(Math.pow(1+i/4,4)-1));var o=Math.round(Math.pow(1+i/4,Math.floor(t/3))*r);console.log("TempMature is "+o);var l=Math.round(e*i*o/365+(t-3*Math.floor(t/3))*30.5*(i/365)*o);console.log("extra is "+l);var s=Math.round(o+l);console.log(s),$(".MatureAmount").text(digits(s)),$(".InterestAmount").text(digits(s-r))}function Dates(){var e=0,t=0,r=0,n=new Date;""!=$("#tenureYear").val()&&(e=parseInt($("#tenureYear").val()),n.setFullYear(n.getFullYear()+e)),""!=$("#tenureMon").val()&&(t=parseInt($("#tenureMon").val()),n.setMonth(n.getMonth()+t)),""!=$("#tenureDays").val()&&(r=parseInt($("#tenureDays").val()),n.setDate(n.getDate()+r));var i=n.getDate(),o=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],l=n.getMonth(),s=n.getFullYear();$(".maturityDate").text(i+" "+o+" "+s);var u=new Date,p=new Date(s,l,i),y=Math.round(new Date(p-u)/1e3/60/60/24);console.log("Total number of days calculated are "+y),getRates(y+1)}function DaysCount(){var e=0,t=0,r=0,n=new Date;""!=$("#tenureYear").val()&&(e=parseInt($("#tenureYear").val()),n.setFullYear(n.getFullYear()+e)),""!=$("#tenureMon").val()&&(t=parseInt($("#tenureMon").val()),n.setMonth(n.getMonth()+t)),""!=$("#tenureDays").val()&&(r=parseInt($("#tenureDays").val()),n.setDate(n.getDate()+r));var i,o=n.getDate(),l=n.getMonth(),s=n.getFullYear(),u=new Date,p=new Date(s,l,o);return Math.round(new Date(p-u)/1e3/60/60/24)+1}function OnlyDates(){var e=0,t=new Date;""!=$("#tenureDays").val()&&(e=parseInt($("#tenureDays").val()),t.setDate(t.getDate()+e));var r=t.getDate(),n=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getMonth(),o=t.getFullYear();$(".maturityDate").text(r+" "+n+" "+o);var l=new Date,s=new Date(o,i,r),u=Math.round(new Date(s-l)/1e3/60/60/24);console.log("Total number of days calculated are "+u),getRates(u+1)}$(".inpt").change(function(){calEMIval()});